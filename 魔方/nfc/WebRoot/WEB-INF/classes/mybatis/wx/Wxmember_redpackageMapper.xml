<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Wxmember_redpackageMapper">

	<!-- 新增-->
	<insert id="save" parameterType="pd">
		insert into tb_redpackage(
 			wxmember_id,
			money,
 			redpackage_id,
 			createtime,
			updatetime 
  		) values (
			#{wxmember_id},	
			#{money}, 
			#{redpackage_id}, 
 			now(),	
			now() 
		)
	</insert>
	
	 
	 <!-- 获取当前会员的红包个数*未使用 -->
	<select id="getRedPackageNumber" parameterType="pd" resultType="String">
		select 
			cast( count(*) as char) as number
		from 
			tb_wxmember_redpackage
		where 
			wxmember_id = #{wxmember_id}
			and isuse=#{isuse}
			and isfrozen='0'
 	</select>
	 
	
</mapper>